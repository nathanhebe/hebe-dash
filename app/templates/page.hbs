
<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.9/c3.min.css" rel="stylesheet" type="text/css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.9/c3.min.js" type="text/javascript"></script>

<div id="MainWrapper" class="boardReport">
    <header>
        <div class="row">
            <div class="col span_1 backLink">{{#link-to 'application' }}<img src="/images/BackArrow@2x.png" />{{/link-to}}</div>
            <h1 class="col span_8">{{Title}}</h1>
            <div class="button col span_3">Product Report for Print</div>
            <!--<div class="button column two">Filter by</div>-->
        </div>
    </header>
    <section id="MainContent">
        <h2>{{SubTitle}}</h2>

        <div class="row borderT borderB bold">
            <div class="col span_2">
                <span class="accordionHandle noBackground">&nbsp;</span>
                Date
            </div>
            <div class="col span_7 borderL">Aspect of Outcomes</div>
            <div class="col span_1 borderL">Target</div>
            <div class="col span_1 borderL">Current</div>
            <div class="col span_1 borderL">Previous</div>
        </div>

        {{#each indicator in indicators}}
        
        {{indicator.dataValues}}

        {{#if indicator.hasValue}}

        <div class="row marginTL" {{bind-attr data-indicator-id=indicator.ID}}>
            <div class="col span_2 borderT borderB borderL radiusL">
                <span class="accordionHandle">&nbsp;</span>
                {{indicator.currentValue.Year}}
            </div>
            <div class="col span_7 borderL borderT borderB borderR">{{indicator.Title}}</div>
            <div class="col span_1 insideMarginR borderT borderB borderR  radiusR">
                <div class="currentValue">{{indicator.currentValue.Value}}</div>
            </div>
            <div {{bindAttr class="indicator.ragColour :col :span_1 :radiusL :indicator"}}>
                <div class="currentValue">
                    {{indicator.currentVal}}%
                </div>
            </div>
            <div {{bindAttr class="indicator.ragColour :col :span_1 :indicator :paddingLNone :radiusR_XL indicator.trend"}}>
                <div class="previousValue">{{indicator.previousVal}}%</div>
            </div>
        </div>


        <div class="accordionContent" {{bind-attr data-indicator-id=indicator.ID}}>
            <p class="bold marginTL">Comments:</p>
            <p class="borderB marginTL paddingBS">Cras quis nulla commodo, aliquam lectus sed, blandit augue. Cras ullamcorper bibendum bibendum. Duis tincidunt urna non pretium porta. Nam condimentum vitae ligula vel ornare. Phasellus at semper turpis. Nunc eu tellus tortor. Etiam at condimentum nisl, vitae sagittis orci. Donec id dignissim nunc. Donec elit ante, elei.</p>
            <p class="bold marginTL">Compare performance for Key indicator over time:</p>
            <div class="chart marginTL">
                <!--<img class="sampleImage" src="images/SampleChart2.png" />-->
                {{#if indicator.currentValue}}
                    {{heat-map data=indicator}}
                {{/if}}
            </div>
        </div>

        {{/if}}

        {{/each}}

    </section>
</div>

<!--<script type="text/javascript">
    // D3 code will go here
    $(window).load(function () {
        console.log('Loading C3');
        var chart = c3.generate({
            bindto: '#Chart1',
            data: {
                x: 'x',
                columns: [
                  ['x', '2015-01-01', '2015-02-01', '2015-03-01', '2015-04-01', '2015-05-01', '2015-06-01'],
                  ['2012/13', .48, .49, .56, .58, .62, .64],
                  ['2013/14', .64, .69, .70, .71, .72, .69],
                  ['2014/15', .72, .73, .49, .74, .73, .72]
                ],
                // type: 'spline',
            },
            axis: {
                x: {
                    type: 'timeseries',
                    tick: {
                        //format : '%Y-%m-%d'
                        format: '%b'
                    }
                },
                y: {
                    tick: {
                        format: d3.format(".1%")
                    }
                }
            },

            point: {
                focus: {
                    expand: {
                        r: 5
                    }
                }
            },

            regions: [
                    { axis: 'y', start: 0, end: .6, class: 'regionYR' },
                    { axis: 'y', start: .6, end: .7, class: 'regionYA' },
                    { axis: 'y', start: .7, class: 'regionYG' },
            ]
        });
    });
</script>-->